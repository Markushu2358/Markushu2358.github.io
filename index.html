<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- 终极移动端视口设置：强制竖屏、适配刘海屏、禁止缩放 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-screen-orientation" content="portrait">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>demo</title>
    <link rel="stylesheet" href="game.css">
</head>
<body>
    <!-- 子弹时间提示 -->
    <div class="bullet-time-notice" id="bulletTimeNotice">子弹时间！1秒内橙色条减速，鱼持续掉血</div>

    <!-- 游戏结束弹窗（补充缺失的DOM） -->
    <div class="game-over-screen" id="gameOverScreen">
        <div class="game-over-text" id="gameOverText"></div>
        <button class="reset-button" id="gameOverResetBtn">重新开始</button>
    </div>

    <div class="main-wrapper">
        <!-- 顶部区域 - 横向耐力和能量条 -->
        <div class="top-section">
            <div class="player-stamina-horizontal">
                <div class="player-stamina-fill-horizontal" id="playerStaminaFill"></div>
                <div class="player-stamina-text-horizontal" id="playerStaminaText">耐力：2000/2000</div>
            </div>
            <div class="green-bars-horizontal">
                <div class="green-bar-horizontal">
                    <div class="green-fill-horizontal" id="greenFill1"></div>
                    <div class="green-effect-horizontal" id="greenEffect1"></div>
                    <!-- 新增能量条文字容器 -->
                    <div class="green-bar-text" id="greenBarText1">0/100</div>
                </div>
                <div class="green-bar-horizontal">
                    <div class="green-fill-horizontal" id="greenFill2"></div>
                    <div class="green-effect-horizontal" id="greenEffect2"></div>
                    <!-- 新增能量条文字容器 -->
                    <div class="green-bar-text" id="greenBarText2">0/100</div>
                </div>
                <div class="green-bar-horizontal">
                    <div class="green-fill-horizontal" id="greenFill3"></div>
                    <div class="green-effect-horizontal" id="greenEffect3"></div>
                    <!-- 新增能量条文字容器 -->
                    <div class="green-bar-text" id="greenBarText3">0/100</div>
                </div>
            </div>
        </div>

        <!-- 水域区域 -->
        <div class="water-section">
            <div class="water-wave"></div>
            <div class="water-wave"></div>
            <div class="pull-bar-section">
                <div class="top-bar">
                    <div class="orange-fill" id="orangeFill"></div>
                    <div class="target-zone" id="targetZone"></div>
                </div>
            </div>
            <div class="fish-health-section">
                <div class="fish-health-container">
                    <div class="fish-direction-text" id="fishDirectionText">鱼游动方向：右</div>
                    <div class="fish-health-ring">
                        <div class="fish-health-fill" id="fishHealthFill"></div>
                    </div>
                    <div class="fish-health-mask">
                        <div class="fish-icon" id="fishIcon"></div>
                    </div>
                    <div class="fish-health-text" id="fishHealthText">3000/3000</div>
                </div>
            </div>
            <!-- 状态文本（放大字号适配） -->
            <div class="status" id="status">按住并拖动收线按钮（往鱼反方向）| 黄色判定区：60%（含）-85%（不含） | 总能量：0/300</div>
        </div>

        <!-- 玩家朝向区域 -->
        <div class="player-direction-section">
            <div class="direction-display">
                <div class="direction-label">玩家朝向：</div>
                <div class="player-icon" id="playerIcon"></div>
                <div class="direction-text" id="directionText">朝右</div>
            </div>
        </div>

        <!-- 底部操作区域（重构按钮布局） -->
        <div class="bottom-section">
            <div class="button-container">
                <!-- 收线按钮单独一行居中 -->
                <div class="reel-button-row">
                    <button class="reel-button" id="reelButton">
                        <span>&lt;</span>
                        <span>收线</span>
                        <span>&gt;</span>
                    </button>
                </div>
                
                <!-- 技能1/3并排 -->
                <div class="skill-buttons-row-1">
                    <button class="skill-button skill1-button" id="skill1Button" disabled>技能1 (1能量)</button>
                    <button class="skill-button skill3-button" id="skill3Button" disabled>技能3 (3能量)</button>
                </div>
                
                <!-- 技能2单独一行 -->
                <div class="skill-buttons-row-2">
                    <button class="skill-button skill2-button" id="skill2Button" disabled>技能2 (恢复200耐力，1能量)</button>
                </div>
                
                <!-- 重置按钮 -->
                <div class="reset-button-row">
                    <button class="reset-button" id="resetButton">重置</button>
                </div>
                
                <!-- 鱼类型选择移到重置按钮下方 -->
                <div class="fish-select-group">
                    <button class="fish-select-button normal-fish-btn active" id="normalFishBtn">普通鱼</button>
                    <button class="fish-select-button boss-fish-btn" id="bossFishBtn">BOSS鱼</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 粒子容器（fixed全屏，最高层级） -->
    <div class="particle-container" id="particleContainer"></div>

    <script src="game.js"></script>
</body>
</html>