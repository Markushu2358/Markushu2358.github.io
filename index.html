<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- 移动端核心适配：竖屏、禁止缩放、刘海屏适配 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-screen-orientation" content="portrait">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>钓鱼小游戏</title>
    <link rel="stylesheet" href="game.css">
</head>
<body>
    <!-- 子弹时间提示（全局浮层） -->
    <div class="bullet-time-notice" id="bulletTimeNotice">子弹时间！1秒内橙色条减速，鱼持续掉血</div>

    <!-- 游戏结束弹窗 -->
    <div class="game-over-screen" id="gameOverScreen">
        <div class="game-over-text" id="gameOverText"></div>
        <button class="reset-button" id="gameOverResetBtn">重新开始</button>
    </div>

    <!-- 主容器：适配所有屏幕尺寸 -->
    <div class="main-wrapper">
        <!-- 顶部区域：耐力条 + 能量条 -->
        <div class="top-section">
            <!-- 玩家耐力条 -->
            <div class="player-stamina-horizontal">
                <div class="player-stamina-fill-horizontal" id="playerStaminaFill"></div>
                <div class="player-stamina-text-horizontal" id="playerStaminaText">耐力：2000/2000</div>
            </div>
            
            <!-- 能量条（3格） -->
            <div class="green-bars-horizontal">
                <div class="green-bar-horizontal">
                    <div class="green-fill-horizontal" id="greenFill1"></div>
                    <div class="green-effect-horizontal" id="greenEffect1"></div>
                </div>
                <div class="green-bar-horizontal">
                    <div class="green-fill-horizontal" id="greenFill2"></div>
                    <div class="green-effect-horizontal" id="greenEffect2"></div>
                </div>
                <div class="green-bar-horizontal">
                    <div class="green-fill-horizontal" id="greenFill3"></div>
                    <div class="green-effect-horizontal" id="greenEffect3"></div>
                </div>
            </div>
        </div>

        <!-- 水域区域：核心游戏视觉区 -->
        <div class="water-section">
            <div class="water-wave"></div>
            <div class="water-wave"></div>
           
    
            <!-- 新增：刺鱼力度条（默认隐藏） -->
            <div class="stab-bar-section" id="stabBarSection">
                <div class="stab-bar-red"></div>
                <div class="stab-bar-green"></div>
                <div class="stab-cursor" id="stabCursor"></div>
            </div>

            <!-- 拉力条区域 -->
            <div class="pull-bar-section">
                <div class="top-bar">
                    <div class="orange-fill" id="orangeFill"></div>
                    <div class="target-zone" id="targetZone"></div>
                </div>
            </div>
            
            <!-- 鱼血量显示 -->
            <div class="fish-health-section">
                <div class="fish-health-container">
                    <div class="fish-health-ring">
                        <div class="fish-health-fill" id="fishHealthFill"></div>
                    </div>
                    <div class="fish-health-mask">
                        <div class="fish-icon" id="fishIcon"></div>
                    </div>
                    <div class="fish-health-text" id="fishHealthText">3000/3000</div>
                </div>
            </div>
            
            <!-- 游戏状态提示 -->
            <div class="status" id="status">按住收线按钮 | 黄色判定区：60%（含）-85%（不含） | 总能量：0/300</div>
        </div>

        <!-- 底部操作区：按钮集合 -->
        <div class="bottom-section">
            <div class="button-container">
                <!-- 收线 + 技能1/3 横向布局 -->
                <div class="reel-skill-row">
                    <button class="skill-button skill1-button" id="skill1Button" disabled>技能1 (1能量)</button>
                    <button class="reel-button" id="reelButton">
                        <span>收线</span>
                    </button>
                    <button class="skill-button skill3-button" id="skill3Button" disabled>技能3 (3能量)</button>
                </div>
                
                <!-- 技能2单独一行 -->
                <div class="skill2-row">
                    <button class="skill-button skill2-button" id="skill2Button" disabled>技能2 (恢复200耐力，1能量)</button>
                </div>
                
                <!-- 重置按钮 -->
                <div class="reset-button-row">
                    <button class="reset-button" id="resetButton">重置</button>
                </div>
                
                <!-- 鱼类型选择 -->
                <div class="fish-select-group">
                    <button class="fish-select-button normal-fish-btn active" id="normalFishBtn">普通鱼</button>
                    <button class="fish-select-button boss-fish-btn" id="bossFishBtn">BOSS鱼</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 特效容器（全局浮层，最高层级） -->
    <div class="particle-container" id="particleContainer"></div>

    <script src="game.js"></script>
</body>
</html>